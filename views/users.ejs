<!-- filepath: /workspaces/node-mysql-arut3ko/views/users.ejs -->
<!DOCTYPE html>
<html>
<head>
  <title>All Users</title>
  <style>
    body { font-family: sans-serif; margin: 0; }
    header { background: #333; color: #fff; padding: 10px 20px; display: flex; align-items: center; }
    header a { color: #fff; margin-right: 20px; text-decoration: none; }
    .dropdown { position: relative; display: inline-block; }
    .dropdown-content {
      display: none; position: absolute; background: #fff; min-width: 120px; box-shadow: 0 8px 16px rgba(0,0,0,0.2);
      z-index: 1; right: 0;
    }
    .dropdown-content a { color: #333; padding: 10px 16px; text-decoration: none; display: block; }
    .dropdown-content a:hover { background: #eee; }
    .dropdown:hover .dropdown-content { display: block; }
    .container { margin: 20px; }
    .user-list-item { padding: 10px 0; border-bottom: 1px solid #eee; display: flex; align-items: center; }
    .user-list-item form { margin: 0 0 0 10px; display: inline; }
    .delete-btn { color: #c00; background: none; border: none; cursor: pointer; }
  </style>
</head>
<body>
  <%- include('headers', { loginUser: loginUser }) %>
  <div class="container">
    <h2>All Users</h2>
    <% users.forEach(function(user) { %>
      <div class="user-list-item">
        <a href="/users/<%= user.id %>"><%= user.name %></a>
        <% if (loginUser && loginUser.isAdmin) { %>
          <form action="/users/<%= user.id %>/delete" method="post" style="display:inline;">
            <button type="submit" class="delete-btn">delete</button>
          </form>
        <% } %>
      </div>
    <% }); %>
  </div>
</body>
</html>